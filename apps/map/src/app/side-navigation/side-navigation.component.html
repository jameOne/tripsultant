<mat-sidenav-container id="sidenav-container">
  <mat-sidenav id="sidenav"
               [fixedInViewport]="true"
               [mode]="selectedMediaQuery?.query.lt_md ? 'over' : 'side'"
               [opened]="sideNavigation" disableClose>
    <tripsultant-apps-map-side-navigation-search-bar></tripsultant-apps-map-side-navigation-search-bar>
    <div id="slide-counter" [@slideCounter]="panelSelectionState">
      <ng-container>
        <div [@slideCounter]="panelSelectionState" *ngIf="panelSelectionState === 0">
          <tripsultant-apps-map-waypoint-directions></tripsultant-apps-map-waypoint-directions>
        </div>
        <div [@slideCounter]="panelSelectionState" *ngIf="panelSelectionState === 1">
          <tripsultant-apps-map-waypoint-drag-and-drop></tripsultant-apps-map-waypoint-drag-and-drop>
        </div>
        <div [@slideCounter]="panelSelectionState" *ngIf="panelSelectionState === 2">
          <tripsultant-apps-map-tripsultant-chat></tripsultant-apps-map-tripsultant-chat>
        </div>
      </ng-container>
    </div>
    <mat-card id="sidenav-controls">
      <div id="button-toggle-group-container">
        <mat-button-toggle-group>
          <mat-button-toggle (click)="selectDirections()">
            <mat-icon class="controls-icon"
                      color="{{panelSelectionState !== 0 ? null : 'primary'}}">
              directions
            </mat-icon>
          </mat-button-toggle>
          <mat-button-toggle (click)="selectRouteWaypoints()">
            <mat-icon class="controls-icon"
                      color="{{panelSelectionState !== 1 ? null : 'primary'}}">
              timeline
            </mat-icon>
          </mat-button-toggle>
          <mat-button-toggle (click)="selectChat()">
            <mat-icon class="controls-icon"
                      color="{{panelSelectionState !== 2 ? null : 'primary'}}">
              chat
            </mat-icon>
          </mat-button-toggle>
          <mat-button-toggle id="close-sidenav-controls-toggle" (click)="closeSideNav()">
            <mat-icon id="close-sidenav-controls-toggle-chevron">chevron_left</mat-icon>
          </mat-button-toggle>
        </mat-button-toggle-group>
      </div>
    </mat-card>
  </mat-sidenav>
  <mat-sidenav-content id="sidenav-content">
    <tripsultant-apps-map-side-navigation-content></tripsultant-apps-map-side-navigation-content>
  </mat-sidenav-content>
</mat-sidenav-container>
